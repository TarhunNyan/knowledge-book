<input type="checkbox" id="isClose"></input><div class="left-menu"><div class="control-panel"><label for="isClose"><div class="isClose"></div></label></div><div class="left-side-menu"><ul><a href="#canvas-2d"><li>Canvas 2d</li></a><a href="#rect"><li>rect</li></a><a href="#path"><li>path</li></a><ul><a href="#комманды-начала-и-завершения-path"><li>Комманды начала и завершения path</li></a><a href="#комманды-рисования"><li>Комманды рисования</li></a><a href="#кривые-безье"><li>Кривые Безье</li></a><a href="#используем-path-из-svg"><li>Используем Path из SVG</li></a><a href="#сохранить-объекты"><li>Сохранить объекты</li></a></ul><a href="#стили-и-цвета"><li>Стили и цвета</li></a><ul><a href="#fillstyle-и-strokestyle"><li>fillStyle и strokeStyle</li></a><a href="#настройка-стиля-линий"><li>Настройка стиля линий</li></a><a href="#градиент"><li>Градиент</li></a></ul><a href="#text"><li>Text</li></a><ul><a href="#узнать-размеры-выводимого-текста"><li>Узнать размеры выводимого текста</li></a><a href="#шрифт-текста"><li>Шрифт текста</li></a><a href="#цвет-текста"><li>Цвет текста</li></a><a href="#выравнивание-текста"><li>Выравнивание текста</li></a><a href="#напраление-текста"><li>Напраление текста</li></a><a href="#вывод-текста"><li>Вывод текста</li></a></ul><a href="#тень"><li>Тень</li></a><ul><a href="#настройка-тени"><li>Настройка тени</li></a></ul><a href="#изображения"><li>Изображения</li></a><ul><a href="#htmlimageelement"><li>HTMLImageElement</li></a><a href="#отобразить-изображение"><li>Отобразить изображение</li></a></ul><a href="#clip-маска"><li>Clip (маска)</li></a><a href="#трансформация"><li>Трансформация</li></a><ul><a href="#сохраняем-и-восстанаиливаем-состояние"><li>Сохраняем и восстанаиливаем состояние</li></a><a href="#трансформации"><li>Трансформации</li></a></ul><a href="#анимация"><li>Анимация</li></a></ul></div></div><div class="main"><link rel="stylesheet" href="../../../static/style.css "><h1 id="canvas-2d">Canvas 2d</h1>
<p>В 2d рисование происходит от левого верхнего угла. Холст прозрачен</p>
<p>Рисование происходит двумя способами:</p>
<ul>
<li>rect(прмоугольники)</li>
<li>path(котнуры)</li>
</ul>
<h1 id="rect">rect</h1>
<p>Всего три функции, с одинаковым набором аргументов</p>
<pre><code class="hljs language-js"><span class="hljs-comment">// Закрашенный прямоугольник</span>
ctx.<span class="hljs-title function_">fillRect</span>(x, y, width, height);

<span class="hljs-comment">// Контур прямоугольника</span>
ctx.<span class="hljs-title function_">strokeRect</span>(x, y, width, height);

<span class="hljs-comment">// Отчистить от пикселей указанную область</span>
ctx.<span class="hljs-title function_">clearRect</span>(x, y, width, height);
</code></pre>
<h1 id="path">path</h1>
<p>Принцип рисования</p>
<ul>
<li>Определяем цвета(стиль)</li>
<li>Рисуем контур</li>
<li>Закрываем контур(или не закрываем)</li>
<li>Делаем обводку либо заливку</li>
</ul>
<h2 id="комманды-начала-и-завершения-path">Комманды начала и завершения path</h2>
<p>Создание</p>
<pre><code class="hljs language-js"><span class="hljs-comment">// Создаем новый контур</span>
<span class="hljs-title function_">beginPath</span>() 
</code></pre>
<p>Закрытие контура(прямая из начала в конец)</p>
<pre><code class="hljs language-js">ctx.<span class="hljs-title function_">closePath</span>()
</code></pre>
<p>Завершение</p>
<pre><code class="hljs language-js"><span class="hljs-comment">// Рисуем фигуру с обводкой</span>
ctx.<span class="hljs-title function_">stroke</span>()
<span class="hljs-comment">// Рисуем фигуру с заливкой</span>
<span class="hljs-comment">// Авоматически закрывает контур</span>
ctx.<span class="hljs-title function_">fill</span>()
</code></pre>
<h2 id="комманды-рисования">Комманды рисования</h2>
<p>Двигаем &quot;перо&quot; без рисования</p>
<pre><code class="hljs language-js">ctx.<span class="hljs-title function_">moveTo</span>(x, y)
</code></pre>
<p>Рисуем прямую из текущего положения, до указаной точки в абсолютных координатах</p>
<pre><code class="hljs language-js">ctx.<span class="hljs-title function_">lineTo</span>(x, y)
</code></pre>
<p>Рисуем дугу</p>
<pre><code class="hljs language-js"><span class="hljs-comment">// x, y - точка центра окружности. Абсолютные координаты</span>
<span class="hljs-comment">// radius - радиус окружности</span>
<span class="hljs-comment">// startAngle, endAngle - углы начала и конца в радианах</span>
<span class="hljs-comment">// anticlockwise - в какую сторону двигаемся. По умолчанию по хожу движения часовой стрелки</span>
ctx.<span class="hljs-title function_">arc</span>(x, y, startAngle, endAngle, anticlockwise);

ctx.<span class="hljs-title function_">arc</span>(<span class="hljs-number">60</span>, <span class="hljs-number">50</span>, <span class="hljs-title class_">Math</span>.<span class="hljs-property">PI</span>, <span class="hljs-number">3</span> / <span class="hljs-number">4</span> * <span class="hljs-title class_">Math</span>.<span class="hljs-property">PI</span>, <span class="hljs-literal">true</span>)
</code></pre>
<p>Рисуем дугу через две контрольные точки и радиус</p>
<pre><code class="hljs language-js"><span class="hljs-comment">// x1, y1 - первая точка</span>
<span class="hljs-comment">// x2, y2 - вторая точка</span>
<span class="hljs-comment">// radius - радиус</span>
ctx.<span class="hljs-title function_">arcTo</span>(x1, y1, x2, y2, radius)
</code></pre>
<h2 id="кривые-безье">Кривые Безье</h2>
<p>Квадратичная (2-ого порядка). Рисуе тпараболу</p>
<pre><code class="hljs language-js"><span class="hljs-comment">// начальная точка это точка текущего положения</span>
<span class="hljs-comment">// cp1x, cp1y - координаты контрольной точки</span>
<span class="hljs-comment">// x, y - конечная точка</span>
ctx.<span class="hljs-title function_">quadraticCurveTo</span>(cp1x, cp1y, x, y)
</code></pre>
<p>Кубическая (3-его порядка)</p>
<pre><code class="hljs language-js"><span class="hljs-comment">// начальная точка это точка текущего положения</span>
<span class="hljs-comment">// cp1x, cp1y - координаты 1-ой контрольной точки</span>
<span class="hljs-comment">// cp2x, cp2y - координаты 2-ой контрольной точки</span>
<span class="hljs-comment">// x, y - конечная точка</span>
ctx.<span class="hljs-title function_">bezierCurveTo</span>(cp1x, cp1y, cp2x, cp2y, x, y)
</code></pre>
<p>Разница между квадратичной и кубической кривыйми</p>
<p><img src="./source/canvas-curves.png" alt="Кадратичеая и кубическая кривые Безье"></p>
<h2 id="используем-path-из-svg">Используем Path из SVG</h2>
<p>Через Path2D можно применить путь из SVG</p>
<pre><code class="hljs language-js"><span class="hljs-keyword">var</span> p = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Path2D</span>(<span class="hljs-string">&quot;M10 10 h 80 v 80 h -80 Z&quot;</span>);
</code></pre>
<h2 id="сохранить-объекты">Сохранить объекты</h2>
<p>Есть два способа сохранить изображаемый объект</p>
<p>Классический через функцию</p>
<pre><code class="hljs language-js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">draw</span>(<span class="hljs-params"></span>) {
    <span class="hljs-keyword">var</span> cnavas = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&#x27;canvas&#x27;</span>);
    <span class="hljs-keyword">var</span> ctx = canvas.<span class="hljs-title function_">getContext</span>(<span class="hljs-string">&#x27;2d&#x27;</span>);

    <span class="hljs-title function_">roundedRect</span>(ctx, <span class="hljs-number">100</span>, <span class="hljs-number">100</span>, <span class="hljs-number">40</span>, <span class="hljs-number">40</span>, <span class="hljs-number">10</span>);
}

<span class="hljs-keyword">function</span> <span class="hljs-title function_">roundedRect</span>(<span class="hljs-params">ctx, x, y, width, height, radius</span>) {
  ctx.<span class="hljs-title function_">beginPath</span>();
  ctx.<span class="hljs-title function_">moveTo</span>(x, y + radius);
  ctx.<span class="hljs-title function_">arcTo</span>(x, y + height, x + radius, y + height, radius);
  ctx.<span class="hljs-title function_">arcTo</span>(x + width, y + height, x + width, y + height - radius, radius);
  ctx.<span class="hljs-title function_">arcTo</span>(x + width, y, x + width - radius, y, radius);
  ctx.<span class="hljs-title function_">arcTo</span>(x, y, x, y + radius, radius);
  ctx.<span class="hljs-title function_">stroke</span>();
}
</code></pre>
<p>Используя Path2D</p>
<pre><code class="hljs language-js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">draw</span>(<span class="hljs-params"></span>) {
    <span class="hljs-keyword">var</span> canvas = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&#x27;canvas&#x27;</span>);
    <span class="hljs-keyword">var</span> ctx = canvas.<span class="hljs-title function_">getContext</span>(<span class="hljs-string">&#x27;2d&#x27;</span>);

    <span class="hljs-keyword">var</span> rectangle = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Path2D</span>();
    rectangle.<span class="hljs-title function_">rect</span>(<span class="hljs-number">10</span>, <span class="hljs-number">10</span>, <span class="hljs-number">50</span>, <span class="hljs-number">50</span>);

    <span class="hljs-keyword">var</span> circle = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Path2D</span>();
    circle.<span class="hljs-title function_">moveTo</span>(<span class="hljs-number">125</span>, <span class="hljs-number">35</span>);
    circle.<span class="hljs-title function_">arc</span>(<span class="hljs-number">100</span>, <span class="hljs-number">35</span>, <span class="hljs-number">25</span>, <span class="hljs-number">0</span>, <span class="hljs-number">2</span> * <span class="hljs-title class_">Math</span>.<span class="hljs-property">PI</span>);

    ctx.<span class="hljs-title function_">stroke</span>(rectangle);
    ctx.<span class="hljs-title function_">fill</span>(circle);
}
</code></pre>
<h1 id="стили-и-цвета">Стили и цвета</h1>
<h2 id="fillstyle-и-strokestyle">fillStyle и strokeStyle</h2>
<p><color> - строка как CSS <color></p>
<p>Устаналиваем стиль заполнения</p>
<pre><code class="hljs language-js">ctx.<span class="hljs-property">fillStyle</span> = &lt;color&gt;
</code></pre>
<p>Устаналиваем стиль заполнения</p>
<pre><code class="hljs language-js">ctx.<span class="hljs-property">strokeStyle</span> = &lt;color&gt;
</code></pre>
<p>Устанавливаем alpha канал для всех последующий fill и stroke</p>
<pre><code class="hljs language-js">ctx.<span class="hljs-property">globalAlpha</span> = <span class="hljs-number">0.5</span>;
</code></pre>
<h2 id="настройка-стиля-линий">Настройка стиля линий</h2>
<p>Ширина линии</p>
<pre><code class="hljs language-js">ctx.<span class="hljs-property">lineWidth</span> = <span class="hljs-number">2</span>;
</code></pre>
<p>Вид начала и конца линий</p>
<pre><code class="hljs language-js"><span class="hljs-comment">// Соответствует началу и концу path</span>
ctx.<span class="hljs-property">lineCap</span> = <span class="hljs-string">&quot;butt&quot;</span>;

<span class="hljs-comment">// Скругленные начало и конец</span>
ctx.<span class="hljs-property">lineCap</span> = <span class="hljs-string">&quot;round&quot;</span>;

<span class="hljs-comment">// Начало и конец квадратные. Выходят за пределы path</span>
ctx.<span class="hljs-property">lineCap</span> = <span class="hljs-string">&quot;square&quot;</span>;
</code></pre>
<p>Вид углов линий</p>
<pre><code class="hljs language-js"><span class="hljs-comment">// Скругляет углы</span>
ctx.<span class="hljs-property">lineJoin</span> = <span class="hljs-string">&quot;round&quot;</span>;

<span class="hljs-comment">// Четко отсекает по конусу</span>
ctx.<span class="hljs-property">lineJoin</span> = <span class="hljs-string">&quot;bevel&quot;</span>;

<span class="hljs-comment">// Продляет пока не получится острый треугольник</span>
ctx.<span class="hljs-property">lineJoin</span> = <span class="hljs-string">&quot;miter&quot;</span>;
</code></pre>
<p>Устанавливаем/Получаем пунктир</p>
<pre><code class="hljs language-js">ctx.<span class="hljs-title function_">setLineDash</span>([<span class="hljs-number">5</span>, <span class="hljs-number">4</span>]);
ctx.<span class="hljs-title function_">getLineDash</span>();
</code></pre>
<p>Устанавливаем сдвиг пунктира</p>
<pre><code class="hljs language-js">ctx.<span class="hljs-property">lineDashOffset</span> = <span class="hljs-number">2</span>;
</code></pre>
<h2 id="градиент">Градиент</h2>
<p>Линейный Градиент</p>
<pre><code class="hljs language-js"><span class="hljs-comment">// x1, y1 - точка откуда начинается градиент</span>
<span class="hljs-comment">// x2, y2 - точка где заканчивается градиент</span>
<span class="hljs-title function_">createLinearGradient</span>(x1, y1, x2, y2);

<span class="hljs-comment">// Пример</span>
<span class="hljs-keyword">var</span> linearGradient = ctx.<span class="hljs-title function_">createLinearGradient</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">150</span>, <span class="hljs-number">150</span>);
linearGradient.<span class="hljs-title function_">addColorStop</span>(<span class="hljs-number">0.0</span>, <span class="hljs-string">&#x27;white&#x27;</span>);
linearGradient.<span class="hljs-title function_">addColorStop</span>(<span class="hljs-number">0.2</span>, <span class="hljs-string">&#x27;#26C000&#x27;</span>);
linearGradient.<span class="hljs-title function_">addColorStop</span>(<span class="hljs-number">1.0</span>, <span class="hljs-string">&#x27;black&#x27;</span>);

ctx.<span class="hljs-property">fillStyle</span> = linearGradient;
ctx.<span class="hljs-property">strokeStyle</span> = linearGradient;
</code></pre>
<p>Радиальный градиент</p>
<pre><code class="hljs language-js"><span class="hljs-comment">// x1, y1 - точка откуда начинается градиент</span>
<span class="hljs-comment">// r1 - радиус окружности начала градиента</span>
<span class="hljs-comment">// x2, y2 - точка где заканчивается градиент</span>
<span class="hljs-comment">// r2 - радиус окружности конца градиента</span>
<span class="hljs-title function_">createRadialGrdient</span>(x1, y1, r1, x2, y2, r2);

<span class="hljs-comment">// Пример</span>
<span class="hljs-keyword">var</span> radialGradient = ctx.<span class="hljs-title function_">createRadialGrdient</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">150</span>, <span class="hljs-number">150</span>);
radialGradient.<span class="hljs-title function_">addColorStop</span>(<span class="hljs-number">0.0</span>, <span class="hljs-string">&#x27;white&#x27;</span>);
radialGradient.<span class="hljs-title function_">addColorStop</span>(<span class="hljs-number">0.2</span>, <span class="hljs-string">&#x27;#26C000&#x27;</span>);
radialGradient.<span class="hljs-title function_">addColorStop</span>(<span class="hljs-number">1.0</span>, <span class="hljs-string">&#x27;black&#x27;</span>);

ctx.<span class="hljs-property">fillStyle</span> = radialGradient;
ctx.<span class="hljs-property">strokeStyle</span> = radialGradient;
</code></pre>
<h1 id="text">Text</h1>
<h2 id="узнать-размеры-выводимого-текста">Узнать размеры выводимого текста</h2>
<p>Настроив шрифты текст можно узнать сколько этот текст будет занимать места на экране</p>
<pre><code class="hljs language-js">ctx.<span class="hljs-title function_">measureText</span>(<span class="hljs-string">&quot;text is here&quot;</span>);
</code></pre>
<h2 id="шрифт-текста">Шрифт текста</h2>
<pre><code class="hljs language-js">ctx.<span class="hljs-property">font</span> = <span class="hljs-string">&quot;20px Times New Roman&quot;</span>;
</code></pre>
<h2 id="цвет-текста">Цвет текста</h2>
<pre><code class="hljs language-js">ctx.<span class="hljs-property">fillStyle</span> = <span class="hljs-string">&quot;black&quot;</span>;
</code></pre>
<h2 id="выравнивание-текста">Выравнивание текста</h2>
<p>Горизонтальное выравнивание текста</p>
<pre><code class="hljs language-js">ctx.<span class="hljs-property">textAlign</span> = <span class="hljs-string">&quot;start&quot;</span> | <span class="hljs-string">&quot;end&quot;</span> | <span class="hljs-string">&quot;left&quot;</span> | <span class="hljs-string">&quot;right&quot;</span> | <span class="hljs-string">&quot;center&quot;</span>;
</code></pre>
<p>Вертикальное выравнивание по базовым линиям</p>
<pre><code class="hljs language-js">ctx.<span class="hljs-property">textBaseLine</span> = <span class="hljs-string">&quot;top&quot;</span> | <span class="hljs-string">&quot;handing&quot;</span> | <span class="hljs-string">&quot;middle&quot;</span> | <span class="hljs-string">&quot;alphabetic&quot;</span> | <span class="hljs-string">&quot;ideographic&quot;</span> | <span class="hljs-string">&quot;bottom&quot;</span>;
</code></pre>
<p><img src="./source/baselines.png" alt="Базовые линии"></p>
<h2 id="напраление-текста">Напраление текста</h2>
<pre><code class="hljs language-js"><span class="hljs-comment">// оп умолчанию inherit</span>
ctx.<span class="hljs-property">direction</span> = <span class="hljs-string">&quot;ltr&quot;</span> | <span class="hljs-string">&quot;rtl&quot;</span> | <span class="hljs-string">&quot;inherit&quot;</span>;
</code></pre>
<h2 id="вывод-текста">Вывод текста</h2>
<pre><code class="hljs language-js"><span class="hljs-comment">// text - выводимый текст</span>
<span class="hljs-comment">// x, y - позиция текста</span>
<span class="hljs-comment">// [maxWidth] - максимальная ширина выводимого текста</span>

ctx.<span class="hljs-title function_">fillText</span>(text, x, y, maxWidth);
ctx.<span class="hljs-title function_">strokeText</span>(text, x, y, maxWidth);
</code></pre>
<h1 id="тень">Тень</h1>
<p>Тень работает для пути, если выводим через stroke и для всего обекта если через fill</p>
<p>Работает на rect, path и text</p>
<h2 id="настройка-тени">Настройка тени</h2>
<pre><code class="hljs language-js">ctx.<span class="hljs-property">shadowOffsetX</span> = <span class="hljs-number">2</span>;
ctx.<span class="hljs-property">shadowOffsetY</span> = <span class="hljs-number">2</span>;
ctx.<span class="hljs-property">shadowBlur</span> = <span class="hljs-number">2</span>;
ctx.<span class="hljs-property">shaowColor</span> = <span class="hljs-string">&quot;rgba(0, 0, 0, 0.5);
</span></code></pre>
<h1 id="изображения">Изображения</h1>
<p>Изображение можно получить через:</p>
<ul>
<li>HTMLImageElement</li>
<li>SVGImageElement</li>
<li>HTMLVieoElement</li>
<li>HTMLCanvasElement</li>
<li>ImageBitmap</li>
<li>OffscreenCanvas</li>
<li>VideoFrame</li>
</ul>
<h2 id="htmlimageelement">HTMLImageElement</h2>
<p>Через JS, с подгрузкой. По сути мы создаем HTMLElement типа img, но не пихаем в DOM:</p>
<pre><code class="hljs language-js"><span class="hljs-keyword">const</span> canvas = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&quot;canvas&quot;</span>);
<span class="hljs-keyword">const</span> ctx = canvas.<span class="hljs-title function_">getContext</span>(<span class="hljs-string">&quot;2d&quot;</span>);

<span class="hljs-keyword">const</span> img = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Image</span>();
img.<span class="hljs-property">onload</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) {
    ctx.<span class="hljs-title function_">drawImage</span>(img, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>);
}
img.<span class="hljs-property">src</span> = <span class="hljs-string">&quot;../img/imgName.png&quot;</span>;
</code></pre>
<h2 id="отобразить-изображение">Отобразить изображение</h2>
<p>Отобразить изображение в точке (x, y)</p>
<pre><code class="hljs language-js"><span class="hljs-title function_">drawImage</span>(image, x, y);
</code></pre>
<p>Отобразить изображение в точке (x, y) с указанными высотой и шириной</p>
<pre><code class="hljs language-js"><span class="hljs-title function_">drawImage</span>(image, x, y, width, height);
</code></pre>
<p>Взять часть избражения из точки (sx, sy) с шириной sWidth и высотой sHeight. И разместить в точке (dx, dy) и шириной dWidth и высотой dHeight</p>
<pre><code class="hljs language-js"><span class="hljs-title function_">drawImage</span>(image, sx, sy, sWidth, sHeight, dx, dy, dWith, dHeight);
</code></pre>
<h1 id="clip-маска">Clip (маска)</h1>
<p>Можно рисовать только в пределах выбранного контура. Для этого нужно как обычно описывать path, а потом вызвать clip. Все последующие рисунки будут в пределах вызванного clip. Сбрасываетс только через restore или новым clip</p>
<pre><code class="hljs language-js">ctx.<span class="hljs-title function_">clip</span>()
</code></pre>
<h1 id="трансформация">Трансформация</h1>
<p>У canvas есть состояние и его можно сохранить. К состоянию относятся:</p>
<ul>
<li>translate, rotate и scale у canvas</li>
<li>все настройки (цвет, шрифт, ширина, тени и т.д.)</li>
<li><a href="#">clipping path</a></li>
</ul>
<h2 id="сохраняем-и-восстанаиливаем-состояние">Сохраняем и восстанаиливаем состояние</h2>
<p>Сохраняет и восстанавлиает состояния по принципу классического стека</p>
<pre><code class="hljs language-js"><span class="hljs-comment">// Сохранить состояние</span>
ctx.<span class="hljs-title function_">save</span>();

<span class="hljs-comment">// Восстановить состояние</span>
ctx.<span class="hljs-title function_">restore</span>();
</code></pre>
<h2 id="трансформации">Трансформации</h2>
<p>Сдвиг</p>
<pre><code class="hljs language-js">ctx.<span class="hljs-title function_">translate</span>(x, y);
</code></pre>
<p>Поворот в радианах по часовой</p>
<pre><code class="hljs language-js">ctx.<span class="hljs-title function_">rotate</span>(angle);
</code></pre>
<p>Масштаб (отрицательный работает как &quot;отражение&quot;)</p>
<pre><code class="hljs language-js">ctx.<span class="hljs-title function_">scale</span>(x, y);
</code></pre>
<p>Матричное преобразоание (перемножение текущей матрицы на указанную)</p>
<p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mo fence="true">[</mo><mtable rowspacing="0.15999999999999992em" columnalign="center center center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>a</mi></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>c</mi></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>e</mi></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>b</mi></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>d</mi></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>f</mi></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd></mtr></mtable><mo fence="true">]</mo></mrow><annotation encoding="application/x-tex">\left[
\begin{array}{ccc} 
a &amp; c &amp; e \\ 
b &amp; d &amp; f \\ 
0 &amp; 0 &amp; 1 
\end{array}
\right]
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:3.6010299999999997em;vertical-align:-1.55002em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.0510099999999998em;"><span style="top:-2.2500000000000004em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎣</span></span></span><span style="top:-2.8099900000000004em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎢</span></span></span><span style="top:-4.05101em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎡</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55002em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">a</span></span></span><span style="top:-3.0099999999999993em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">b</span></span></span><span style="top:-1.8099999999999994em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.5500000000000007em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">c</span></span></span><span style="top:-3.0099999999999993em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">d</span></span></span><span style="top:-1.8099999999999994em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.5500000000000007em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">e</span></span></span><span style="top:-3.0099999999999993em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em;">f</span></span></span><span style="top:-1.8099999999999994em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.5500000000000007em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.0510099999999998em;"><span style="top:-2.2500000000000004em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎦</span></span></span><span style="top:-2.8099900000000004em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎥</span></span></span><span style="top:-4.05101em;"><span class="pstrut" style="height:3.1550000000000002em;"></span><span class="delimsizinginner delim-size4"><span>⎤</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55002em;"><span></span></span></span></span></span></span></span></span></span></span></span></p>
<pre><code class="hljs language-js">ctx.<span class="hljs-title function_">transform</span>(a, b, c, d, e, f);
</code></pre>
<p>Матричное преобразование (задаем матрицу)</p>
<pre><code class="hljs language-js">ctx.<span class="hljs-title function_">setTransform</span>(a, b, c, d, e, f);
</code></pre>
<p>Возвращаем стандартое преобразоание:</p>
<pre><code class="hljs language-js">ctx.<span class="hljs-title function_">resetTransform</span>();
</code></pre>
<h1 id="анимация">Анимация</h1>
<p>Для анимация создается функция отрисовки. И вызывается с каки-то интервалом. Для этого можно использовать:</p>
<ul>
<li>setInterval(function, delay)</li>
<li>setTimeout(function, delay)</li>
<li>requestAnimationFrame(callback) - имеет преимущество перед другими вариантами, так как вызывается браузером только когда он готов к отрисовке. Функция специально создана для анимаций</li>
</ul>
<p>Примеры:</p>
<p><a href="./example/01-SolarSystem.html">Солнечная система</a></p>
</div>