<input type="checkbox" id="isClose"></input><div class="left-menu"><div class="control-panel"><label for="isClose"><div class="isClose"></div></label></div><div class="left-side-menu"><ul><a href="#shadowroot"><li>ShadowRoot</li></a><ul><a href="#особенности-shadowroot"><li>Особенности ShadowRoot</li></a><a href="#получить-доступ-к-shadowroot"><li>Получить доступ к ShadowRoot</li></a><a href="#template"><li>Template</li></a></ul></ul></div></div><div class="main"><link rel="stylesheet" href="../../../static/style.css "><h1 id="shadowroot">ShadowRoot</h1>
<p>Позволяет переиспользовать структуру html кода. Достаточно прописать тег к которому привязан ShadowRoot</p>
<p>ShadowRoot - так называется потому что он находится в тени отеосительно обычного DOM. Он спрятан</p>
<p>Например, есть стандартный компонент - слайдер. В DOW дереве не отображается каждый элемент из которого состоит слайдер
Отображается тег, а внутри есть пометка #ShadowRoot. И каждый слайдер ссылается на один и тот же ShadowRoot</p>
<h2 id="особенности-shadowroot">Особенности ShadowRoot</h2>
<p>ShadowRoot - изолирован от остального документа. Это означает что CSS стили внутри него никак не затрагивают компоненты снаружи. Что позволяет работать компонентно</p>
<h2 id="получить-доступ-к-shadowroot">Получить доступ к ShadowRoot</h2>
<p>В обычном дереве невозможно получить доступ к элементам ShadowRoot. Для этого нужно найти элемент к которому привязан ShadowRoot, и вызвать:</p>
<pre><code class="hljs language-js"><span class="hljs-keyword">const</span> elem = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&quot;elemShadowRoot&quot;</span>);
<span class="hljs-keyword">const</span> shadowRoot = elem.<span class="hljs-property">shadowRoot</span>;
</code></pre>
<h2 id="template">Template</h2>
<p>Технология сделана так, что через тег Template можно создать дерево для ShadowRoot</p>
<p>Сначала создаем Templte(шаблона) html:</p>
<pre><code class="hljs language-html"><span class="hljs-tag">&lt;<span class="hljs-name">template</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;custom-element&quot;</span>&gt;</span>
    <span class="hljs-comment">&lt;!-- Тут обычный html элемента --&gt;</span>
    <span class="hljs-comment">&lt;!-- Тут обычный html элемента --&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>
</code></pre>
<p>Внутри Templte(шаблона) создаем slot. Slot - это места куда будет вставляться внутреннее содержание тега. А содержание самого slot, это станартное значение, на случай если значение не задано</p>
<pre><code class="hljs language-html"><span class="hljs-tag">&lt;<span class="hljs-name">template</span> <span class="hljs-attr">...</span>
    &lt;<span class="hljs-attr">slot</span>&gt;</span>Содержание<span class="hljs-tag">&lt;/<span class="hljs-name">slot</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">slot</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;Tittle&quot;</span>&gt;</span>Название<span class="hljs-tag">&lt;/<span class="hljs-name">slot</span>&gt;</span>
...<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>
</code></pre>
<p>Далее через js регистрируем ShadowRoot своего компонента. Это позволит использовать его в дальнейшем внутри html</p>
<p>Есть одно правило, при регистрации имя customElement должно быть через тире</p>
<pre><code class="hljs language-js">customElements.<span class="hljs-title function_">define</span>(
    <span class="hljs-string">&#x27;name-customElement&#x27;</span>,
    <span class="hljs-keyword">class</span> <span class="hljs-title class_">nameCustomElement</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">HTMLElement</span> {
        <span class="hljs-title function_">counstructir</span>(<span class="hljs-params"></span>) {
            <span class="hljs-variable language_">super</span>();
        }
    }
);
</code></pre>
</div>