# Vim и NVim

Ниже будет использоваться некоторые подмены, чтобы это можно было хоть как-то описать

|Подмена      |Смысл подемены            |
|:------------|:-------------------------|
|<text>       | какой-то текст           |
|<symbol>     | какой-то текстовый символ|
|<navigation> | символ навигации         |
|<selection>  | символ навигации         |
|<registor>   | регистор                 |
|<n>          | число                    |
|_            | одиночный символ         |

# Undo/Redo

````bash
# undo(отмена)
u
# redo(возврат)
ctrl+r 
````

# Delete

````bash
# удалить строку
dd
# удалить выделенное
<selection>d

# удалить то что хочется
d<navigation>
d$
df_
...
````

# Copy/Paste

````bash
# copy(копировать)
y 
# paste(вставить)
p 

# копировать строку
yy
````

# Macro

````bash
# записать макрос
q<registor>
# дописать макрос. <registor> - заглавная буква
q<registor>

# запустить макрос
@<registor>
# запустить макрос n раз
<n>@<registor>
````

## Работа с макросом как с текстом

````bash
# выводим то что записано в регистре
"<register>p
# копируем в регистор выделенное
"<register>y
"<register>d
````

Иногда полезно запускать выполнение макроса не последовательно, а параллельно (этот трюк я подсмотрел в Vim Edit Text at the Speed of Thought). Например, если нам надо обработать 100 строк, вместо того, чтобы записывать макрос с переходом на следующую строку j и затем указывать количество раз выполнения макроса, например, как в статье 100@a, можно выделить последовательность строк с помощью V, нажать : и затем в командном режиме вызвать макрос через normal. Команда будет выглядеть так :'<,'>normal @a. Плюс этого подхода в том, что макрос выполнится на всех строках, даже если какая-то строка могла нарушить ход выполнения последовательности макросов, при обычном подходе.

# Navigation

## Перемещение по словам

````bash
# предыдущее слово
b
# следующее слово
w
# конец следущего слова
e

# предыдущее слово. Деление только по пробелам
B
# следующее слово. Деление только по пробелам
W
# конец следущего слова. Деление только по пробелам
E

````

## Перемещение по строке

````bash
# поиск симола в строке
f_
# поиск(в другую сторону) символа в строке
F_

# идет по строке пока не найдет симол
e_
# идет(в другую сторону) по строке пока не найдет симол
E_

# переходим в начало строки
0
# прыгаем в конец строки
$
# первый не пустой символ в строке
^
# первый не пустой символ предыдущей строки
-
# первый не пустой символ следующей строки
+
# первый не пустой символ следующей строки. Отсчет ведется от текущей строки
_
````

## Перемещение по тексту

````bash
# перейти к началу параграфа
{
# перейти к концуо параграфа
}

# прикол добавлен плагином
# бытрое перемещение к символу
//s

# начало/конец блока. К блоку относятся кавычки [({})]
# с плагинами так же за конец и начало блока считается html тег
%

# перейти в начало предложения
(
# перейти в конец предложения
)

# перейти к символу n в файле
:noraml! 0go<n> "
# перейти к символу n1+n2 в файле
:noraml! <n1>go<n2> "

````

## Mark(закладки)

````bash
# поставить mark 
m<register>
# перейти к поставленной mark
`<register>
# перейти к началу строки поставленной mark
'<register>
# перейти к месту где редактировали в последний раз
`.
````

## Перемещение по файлу

````bash
# переход в начало файла
gg
# переход в конец файла
G
# перейти к строке n
<n>G
# перейти к столбцу n
<n>|
````

## Видимая область

````bash
# переместить курсор вверх видимой области
H
# переместить курсор вверх видимой области
L
# центрировать область видимости по курсору
M
````

## Поиск

````bash
# поиск подстроки вниз по тексту
# вводим и искомый текст и жмем enter
/<text>
# поиск подстроки вверх по тексту
# вводим и искомый текст и жмем enter
?<text>

# переходим к предыдущему вхождению
n
# переходим к следующему вхождению
N

# быстрый поиск. Найти вхождение слова под курсором
*
# быстрый поиск в обратном направлении. Найти вхождение слова под курсором
#
# убрать подсветку найденного 
:noh
````

## Замена

"Ручная" замена

````bash
# в первой строке делаем замену руками
# во второй строке повторяем операцию
c<navigtion><text>
.
````

__<find text>__ - искомый текст(regexp)

__<replace text>__ - текст на который меняем(regex)

__<flags>__ - флаги

|код|расшифровка|
|:--:|:--|
|i|игнорировать регистр букв|
|g|все вхождения. Без этого флага только первое вхождение|
|c|спрашивать подтверждения замены|
|I|игнорировать регистр букв|

````bash
# Замена текста в строке
:s/<find text>/<replace text>/<flags>
# Замена текста во всем файле
:%s/<find text>/<replace text>/<flags>

# Заменить текст в выделенном блоке
:'<,'>s/<find text>/<replace text>/g
# Заменить текст с 6 по 10 строку
:6,10s/<find text>/<replace text>/g
````

При работе с поиском и заменой может пригодиться:

````bash
# вставляет текст из регистра
ctrl+r<register>
# вставляет скопироанный текст
ctrl+r"
````

# Табы

````bash
# список табов
:tabs
# перейти к табу на позиции n
<n>gt - go tab with num

# перейти к следующему табу
gt
# перейти к предыдущему табу
gT

# создать новый таб с открытым текущим файлом
:tabe %
````

# Командная строка

Работа с трминалом

````bash
# команда которая выполняется не в командной строке vim'а терминале
:!<....>
# вставляет текст из регистра
ctrl+r<register>
# вставляет скопироанный текст
ctrl+r"
````

Вставить результат работы терминала в файл

````bash
:read !<...>
````

Команды для vim'а

````bash
# закрыть таб
:q
# закрыть НАСИЛЬНО без сохранения
:q!
# записать файл
:w
# записать файл и выход
:wq
ZZ

# путь к текущей папке
:pwd
# меняем root путь
:cd
# просматриваем файлы в папке
:ls

# убрать подсветку искомой подстроки
:noh
````

Указать файл config

````bash
# файл по указонному пути как конфиг для vim'а
:source <path>
# открытый файл как конфиг для vim'а
:source % - use current file like confg for vim
````

# Plugins

## vim-plug

Менеджер плагинов. В config файле надопрописать блок кода, типа такого:

````
call plug#begin('~/.vim/plugged')
Plug 'tpope/vim-commentary'
call plug#end()
````

После достаточно вызвать

````bash
:PlugInstall
````

## NERDTree

Крутой плагин, позволяет открыть дерево файлов и работать с ним внутри vim

Открыть/Закрыть дерево:

````bash
ctrl + n 
````

Комнады плагина (в открытом дереве)

````bash
? 
````

Создать/Переместить/Удалить файлы и папки

````bash
m 
````

## vim-commentary

Единственное что нужно знать

````bash
gcc
````

## vim-easymotion

Быстрое перемещение по видимой части файла. После надо нажать символ на коотрый хотим перемеситься, и возможно еще подсвеченный символ 

````bash
//s 
````

# Termux

Поскольку я использую Vim под Termux'ом, то я решил создать раздельчик тут:

## Работа с терминалами

Перейти к следующему/предыдущему терминалу:

````bash 
ctrl + alt + Up/Down
````

Создать новый терминал:

````bash 
ctrl + alt + C
````
